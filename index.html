<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <title>YouTube Transcript Summarizer</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #121212; color: #ffffff; padding: 2rem; }
        input, textarea, button { width: 100%; margin: 1rem 0; padding: 1rem; border-radius: 10px; border: none; }
        input, textarea { background-color: #1e1e1e; color: #00ffcc; }
        button { background-color: #00ffcc; color: #000; cursor: pointer; font-weight: bold; }
        #summary { height: 300px; }
    </style>
    <script src="https://js.puter.com/v2/"></script>
</head>
<body>
    <h1>üé• ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂</h1>
    <input type="text" id="yt-url" placeholder="‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶¶‡¶ø‡¶®">
    <button onclick="getTranscript()">üéØ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button>
    <textarea id="summary" readonly placeholder="‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂ ‡¶Ü‡¶∏‡¶¨‡ßá..."></textarea>
    <script>
        async function getTranscript() {
            const url = document.getElementById("yt-url").value;
            const summaryBox = document.getElementById("summary");
            summaryBox.value = "‚è≥ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá, ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®...";

            try {
                const response = await fetch(`/transcript?url=${encodeURIComponent(url)}`);
                const data = await response.json();

                if (data.transcript) {
                    const chatPrompt = `‡¶®‡ßÄ‡¶ö‡ßá‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü‡¶ü‡¶æ ‡¶™‡ßú‡ßá ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡ßü ‡¶∏‡¶π‡¶ú ‡¶≠‡¶æ‡¶∑‡¶æ‡ßü ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂ ‡¶ï‡¶∞:

${data.transcript}`;
                    const gpt = await puter.ai.chat(chatPrompt);
                    summaryBox.value = gpt;
                } else {
                    summaryBox.value = "üò¢ ‡¶∏‡¶æ‡¶∞‡¶æ‡¶Ç‡¶∂ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶ó‡ßá‡¶≤ ‡¶®‡¶æ: " + (data.error || "‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø");
                }
            } catch (error) {
                summaryBox.value = "‚ùå ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø: " + error.message;
            }
        }
    </script>
</body>
</html>